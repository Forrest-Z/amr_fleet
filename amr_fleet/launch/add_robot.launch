<?xml version="1.0"?>

<launch>
    <arg name="robot_id" default="r1"/>
    <arg name="x_pos" default="-2.0"/>
    <arg name="y_pos" default="-0.5"/>
    <arg name="z_pos" default="0.0"/>
    <arg name="a_pos" default="0.0"/>

    <!-- spaw robot: robot_description + state publisher -->
    <include file="$(find amr_fleet)/launch/simulation/spawn_simulation_robot.launch">
        <arg name="robot_id" value="$(arg robot_id)"/>
        <arg name="x_pos" value="$(arg x_pos)"/>
        <arg name="y_pos" value="$(arg y_pos)"/>
        <arg name="z_pos" value="$(arg z_pos)"/>
    </include>

    <!-- run local behavior -->
    <include file="$(find amr_fleet)/launch/path_planning/single_robot_control.launch">
        <arg name="robot_id" value="$(arg robot_id)"/>
    </include>

    <!-- run localization -->
    <include file="$(find amr_fleet)/launch/amcl.launch">
        <arg name="robot_id" value="$(arg robot_id)"/>
        <arg name="initial_pose_x" value="$(arg x_pos)"/>
        <arg name="initial_pose_y" value="$(arg y_pos)"/>
        <arg name="initial_pose_a" value="$(arg a_pos)"/>
    </include>

    <!-- move_base -->
    <include file="$(find amr_fleet)/launch/path_planning/move_base_turtlebot.launch">
        <arg name="robot_id" value="$(arg robot_id)"/>
    </include>
    <!--<include file="$(find amr_fleet)/launch/path_planning/move_base.launch">-->
        <!--<arg name="robot_id" value="$(arg robot_id)"/>-->
    <!--</include>-->

</launch>